<!DOCTYPE html>
<html lang="zh">
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no">
		<meta http-equiv="X-UA-Compatible" content="ie=edge">
		<title>requestAnimationFrame</title>
		<style>
			*{
				margin: 0;
				padding: 0;
			}
		</style>
	</head>
	<body>
		
		<script type="text/javascript">
			// requestAnimation 与 setInterval 的区别
			
			var startTime = performance.now();
			var count = 0;
			// var timer = setInterval(function () {
			// 	var now = Date.now();
			// 	console.log(now - startTime);
			// 	startTime = now;
			// 	count ++;
			// 	if(count === 10){
			// 		clearInterval(timer);
			// 	}
			// }, 1000/60);
			
			var back = requestAnimationFrame(function fn(now) {
				count ++;
				console.log(now - startTime);
				startTime = now;
				if(count < 10){
					requestAnimationFrame(fn);
				}
			})
			
			
			// 定时器的时间是不准确的
			// var start = Date.now();
			// setTimeout(function () {
			// 	console.log(Date.now() - start);
			// }, 500);
			
			// for(var i = 0; i < 100000; i ++){
			// 	var dEle = document.createElement("div");
			// 	dEle.innerText = "hahah";
			// 	document.body.appendChild(dEle);
			// }
			
			
		</script>
	</body>
</html>